{% extends "default.html" %}
{% load i18n %}
{% load staticfiles %}
{% load url from future %}

{% block head %}
{% endblock %}

{% block ekstra_nav %}
{% endblock %}
{% block content %}
{% if message %}
<div class="row">
  <div class="col-sm-12">
    <p>{{message}}</p>
  </div>
</div>
{% else %}

<div class="jumbotron">
  <h1>{{course.title}}</h1>
  <p>{{course.description}}</p>
</div>



<!-- button row for manipulating slides -->
<div class="row">
  <div class="col-sm-12">
    <div class="btn-group btn-group-lg">
      <a class="btn btn-primary" href="{% url 'cbuilder.views.create_slide' %}?pid={{course.id}}">
	{% blocktrans %}Create slide{% endblocktrans %}
      </a>
    </div>
  </div>
</div>
<br/>
<div class="row">
  <div class="col-md-12">
    <table class="table">
      {% for s in slides %}
      <tr>
	<td>{{s.title}}</td>
	<td><a href="{% url 'cbuilder.views.edit_slide' %}?sid={{s.id}}" class="btn btn-primary">
	    {% blocktrans %}Edit{% endblocktrans %}</a></td>
	<td>
	  <form action="{% url 'cbuilder.views.delete_slide' %}" method="POST">
	    <input type="hidden" name="sid" value="{{s.id}}"/>
	    <input type="submit" class="btn btn-danger" value="{% blocktrans %}Delete{% endblocktrans %}"/>
	    {% csrf_token %}
	  </form>
	</td>
	<td>
	  {% if s.prevSlide %}
	  <form action="{% url 'cbuilder.views.swap_slide' %}" method="POST">
	    <input value="{{s.id}}" name="sid1" type="hidden"/>
	    <input value="{{s.prevSlide.id}}" name="sid2" type="hidden"/>
	    {% csrf_token %}
	    <input type="submit" class="glyphicon glyphicon-menu-up btn btn-default" value="{% blocktrans %}Up{% endblocktrans %}">
	  </form>
	  {% endif %}
	</td>
		<td>
	  {% if s.nextSlide %}
	  <form action="{% url 'cbuilder.views.swap_slide' %}" method="POST">
	    <input value="{{s.id}}" name="sid1" type="hidden"/>
	    <input value="{{s.nextSlide.id}}" name="sid2" type="hidden"/>
	    {% csrf_token %}
	    <input type="submit" class="glyphicon glyphicon-menu-up btn btn-default" value="{% blocktrans %}Down{% endblocktrans %}">
	  </form>
	  {% endif %}
	</td>
	
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endif %}
{% endblock %}
